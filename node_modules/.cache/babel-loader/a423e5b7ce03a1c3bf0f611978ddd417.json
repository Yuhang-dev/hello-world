{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { getTicket } from '@/api/ticket';\nexport default {\n  data: function data() {\n    return {\n      tableData: [],\n      //分页对象\n      pageData: {\n        currentPage: 1,\n        //当前的页面\n        pageSize: 1,\n        //，每页有几条\n        total: 0 //总数\n\n      }\n    };\n  },\n  created: function created() {\n    var _this = this;\n\n    getTicket({\n      currentPage: this.pageData.currentPage,\n      pageSize: this.pageData.pageSize\n    }).then(function (res) {\n      var data = res.data.data;\n      _this.tableData = data.table;\n      _this.pageData.total = data.total;\n    });\n  },\n  methods: {\n    handleSizeChange: function handleSizeChange() {//每页条数发生变化触发\n    },\n    handleCurrentChange: function handleCurrentChange() {//当前页码发生变化触发\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0CA;AAEA;EACAA,IADA,kBACA;IACA;MACAC,aADA;MAGA;MACAC;QACAC,cADA;QACA;QACAC,WAFA;QAEA;QACAC,QAHA,CAGA;;MAHA;IAJA;EAUA,CAZA;EAaAC,OAbA,qBAaA;IAAA;;IACAC;MACAJ,sCADA;MAEAC;IAFA,GAGAI,IAHA,CAGA;MACA;MACA;MACA;IACA,CAPA;EAQA,CAtBA;EAuBAC;IACAC,gBADA,8BACA,CACA;IACA,CAHA;IAIAC,mBAJA,iCAIA,CACA;IACA;EANA;AAvBA","names":["data","tableData","pageData","currentPage","pageSize","total","created","getTicket","then","methods","handleSizeChange","handleCurrentChange"],"sourceRoot":"src/views/tickets","sources":["list.vue"],"sourcesContent":["<template>\r\n  <div class=\"list\">\r\n    <div class=\"list-header\">\r\n      <el-button type=\"primary\" @click=\"$router.push('/tickets/new')\">New Ticket</el-button>\r\n    </div>\r\n\r\n    <el-table\r\n      class=\"list-content\"\r\n      :data=\"tableData\"\r\n      style=\"width: 100%\">\r\n      <el-table-column\r\n        prop=\"id\"\r\n        label=\"ID\"\r\n        width=\"180\">\r\n      </el-table-column>\r\n      <el-table-column\r\n        prop=\"title\"\r\n        label=\"Summary\"\r\n        width=\"180\">\r\n      </el-table-column>\r\n      <el-table-column\r\n        prop=\"type\"\r\n        label=\"Type\">\r\n        <template slot-scope=\"scope\">\r\n          {{ scope.row.type }}\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n\r\n    <el-pagination\r\n      @size-change=\"handleSizeChange\"\r\n      @current-change=\"handleCurrentChange\"\r\n      :current-page.sync=\"pageData.currentPage\"\r\n      :page-sizes=\"[1, 2, 3, 4]\"\r\n      :page-size=\"pageData.pageSize\"\r\n      layout=\"sizes, prev, pager, next\"\r\n      :total=\"pageData.total\">\r\n    </el-pagination>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getTicket } from '@/api/ticket'\r\n\r\nexport default {\r\n  data(){\r\n    return {\r\n      tableData: [],\r\n\r\n      //分页对象\r\n      pageData:{\r\n        currentPage: 1, //当前的页面\r\n        pageSize: 1, //，每页有几条\r\n        total: 0 //总数\r\n      }\r\n    }\r\n  },\r\n  created(){\r\n    getTicket({\r\n      currentPage: this.pageData.currentPage,\r\n      pageSize: this.pageData.pageSize,\r\n    }).then(res =>{\r\n      let data = res.data.data;\r\n      this.tableData = data.table;\r\n      this.pageData.total = data.total;\r\n    })\r\n  },\r\n  methods: {\r\n    handleSizeChange(){\r\n      //每页条数发生变化触发\r\n    },\r\n    handleCurrentChange(){\r\n      //当前页码发生变化触发\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n::v-deep.list{\r\n  box-sizing: border-box;\r\n  padding: 14px;\r\n  width: 1200px;\r\n  margin: 15px auto 0;\r\n  background: #fff;\r\n  border: 1px solid rgba(0,0,0,0.15);\r\n  .list-header{\r\n    text-align: right;\r\n  }\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}